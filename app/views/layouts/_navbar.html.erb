<div class="bg-emerald-50 dark:bg-gray-900 shadow-md shadow-emerald-950/50" data-controller="dropdown">
  <div class="flex flex-wrap items-center justify-between mx-auto p-4">
    <a class="flex items-center space-x-3 rtl:space-x-reverse">
      <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">
        <%= content_for?(:title) ? yield(:title) : "" %>
      </span>
    </a>
    <div class="relative flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
      <!-- User Button -->
      <% if authenticated? %>
        <button type="button"
                class="flex items-center justify-center text-sm rounded-full size-10
                      bg-emerald-50 outline-2 outline-emerald-900
                      hover:bg-emerald-100 dark:hover:bg-emerald-800
                        focus:ring-6 focus:ring-gray-300 dark:focus:ring-gray-600
                        transition-colors duration-200"
                data-action="click->dropdown#toggle">
          <span class="sr-only">Open user menu</span>
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               class="size-8 fill-emerald-900">
            <path fill-rule="evenodd"
                  d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"
                  clip-rule="evenodd"/>
          </svg>
        </button>
      <% end %>

      <!-- Dropdown Menu -->
      <% if authenticated? %>
        <div class="absolute !right-0 !top-[60px] !w-48 bg-emerald-50 divide-y divide-gray-100 rounded-lg shadow-lg 
                    dark:bg-gray-700 dark:divide-gray-600 !z-[9999] hidden"
            data-dropdown-target="menu">
          <div class="px-4 py-3">
            <span class="block text-sm text-gray-900 dark:text-white"><%= Current.user.role.name || "" %></span>
            <span class="block text-sm text-gray-500 truncate dark:text-gray-400"><%= Current.user.email_address || "" %></span>
          </div>
          <ul class="py-2">
            <li>
              <%= button_to session_path, method: :delete,
                class: "border-none cursor-pointer 
                        block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 
                        dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white" do %>
                Sign out
              <% end %>
            </li>
          </ul>
        </div>
      <% end %>
    </div>

    <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
         id="navbar-user">
      <ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-emerald-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
        <% unless authenticated? %>
          <li>
            <%= link_to new_session_path,
              class: "block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700" do %>
              Log in
            <% end %>
          </li>
          <li>
            <%= link_to signup_path,
              class: "block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700" do %>
              Sign up
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
